/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/newsletter/route";
exports.ids = ["app/api/newsletter/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:events");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?b5ef":
/*!**************************!*\
  !*** encoding (ignored) ***!
  \**************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnewsletter%2Froute&page=%2Fapi%2Fnewsletter%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnewsletter%2Froute.ts&appDir=D%3A%5CJOURNEY%5CInternship%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CJOURNEY%5CInternship&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnewsletter%2Froute&page=%2Fapi%2Fnewsletter%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnewsletter%2Froute.ts&appDir=D%3A%5CJOURNEY%5CInternship%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CJOURNEY%5CInternship&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_JOURNEY_Internship_app_api_newsletter_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/newsletter/route.ts */ \"(rsc)/./app/api/newsletter/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/newsletter/route\",\n        pathname: \"/api/newsletter\",\n        filename: \"route\",\n        bundlePath: \"app/api/newsletter/route\"\n    },\n    resolvedPagePath: \"D:\\\\JOURNEY\\\\Internship\\\\app\\\\api\\\\newsletter\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_JOURNEY_Internship_app_api_newsletter_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/newsletter/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZuZXdzbGV0dGVyJTJGcm91dGUmcGFnZT0lMkZhcGklMkZuZXdzbGV0dGVyJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbmV3c2xldHRlciUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDSk9VUk5FWSU1Q0ludGVybnNoaXAlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNKT1VSTkVZJTVDSW50ZXJuc2hpcCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDTztBQUNwRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2V2em9uZS10ZWNoLXdlYnNpdGUvP2ZhMDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcSk9VUk5FWVxcXFxJbnRlcm5zaGlwXFxcXGFwcFxcXFxhcGlcXFxcbmV3c2xldHRlclxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbmV3c2xldHRlci9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL25ld3NsZXR0ZXJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL25ld3NsZXR0ZXIvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJEOlxcXFxKT1VSTkVZXFxcXEludGVybnNoaXBcXFxcYXBwXFxcXGFwaVxcXFxuZXdzbGV0dGVyXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9uZXdzbGV0dGVyL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnewsletter%2Froute&page=%2Fapi%2Fnewsletter%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnewsletter%2Froute.ts&appDir=D%3A%5CJOURNEY%5CInternship%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CJOURNEY%5CInternship&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/newsletter/route.ts":
/*!*************************************!*\
  !*** ./app/api/newsletter/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_googleSheetsClient__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/googleSheetsClient */ \"(rsc)/./lib/googleSheetsClient.ts\");\n/* harmony import */ var _lib_emailService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/emailService */ \"(rsc)/./lib/emailService.ts\");\n/* harmony import */ var _lib_rateLimiter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/rateLimiter */ \"(rsc)/./lib/rateLimiter.ts\");\n\n\n\n\n// Create a rate limiter for newsletter submissions\nconst limiter = (0,_lib_rateLimiter__WEBPACK_IMPORTED_MODULE_3__.RateLimiter)({\n    interval: 60 * 1000,\n    limit: 5,\n    uniqueTokenPerInterval: 500\n});\nasync function POST(req) {\n    try {\n        // Get client IP for rate limiting\n        const forwardedFor = req.headers.get(\"x-forwarded-for\");\n        const ip = forwardedFor ? forwardedFor.split(\",\")[0] : \"127.0.0.1\";\n        // Apply rate limiting\n        try {\n            await limiter.check(Date.now(), ip);\n        } catch  {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Too many requests, please try again later.\"\n            }, {\n                status: 429\n            });\n        }\n        // Parse request body\n        const { email, recaptchaToken } = await req.json();\n        // Validate email\n        if (!email || !/^\\S+@\\S+\\.\\S+$/.test(email)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Please provide a valid email address.\"\n            }, {\n                status: 400\n            });\n        }\n        // TODO: Verify reCAPTCHA token if needed\n        // Add subscription to Google Sheets\n        const result = await (0,_lib_googleSheetsClient__WEBPACK_IMPORTED_MODULE_1__.addNewsletterSubscription)(email);\n        if (!result.success) {\n            // Handle already subscribed case with specific status code\n            if (result.error === \"This email is already subscribed to our newsletter\") {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: result.error\n                }, {\n                    status: 409\n                } // 409 Conflict is appropriate for duplicates\n                );\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: result.error || \"Failed to add subscription.\"\n            }, {\n                status: 500\n            });\n        }\n        // Send confirmation email\n        const emailSent = await (0,_lib_emailService__WEBPACK_IMPORTED_MODULE_2__.sendNewsletterConfirmationEmail)(email);\n        if (!emailSent) {\n            console.warn(\"Newsletter subscription saved but confirmation email failed to send\");\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        console.error(\"Newsletter API error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL25ld3NsZXR0ZXIvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0Q7QUFDYTtBQUNBO0FBQ3JCO0FBRWhELG1EQUFtRDtBQUNuRCxNQUFNSSxVQUFVRCw2REFBV0EsQ0FBQztJQUMxQkUsVUFBVSxLQUFLO0lBQ2ZDLE9BQU87SUFDUEMsd0JBQXdCO0FBQzFCO0FBRU8sZUFBZUMsS0FBS0MsR0FBZ0I7SUFDekMsSUFBSTtRQUNGLGtDQUFrQztRQUNsQyxNQUFNQyxlQUFlRCxJQUFJRSxPQUFPLENBQUNDLEdBQUcsQ0FBQztRQUNyQyxNQUFNQyxLQUFLSCxlQUFlQSxhQUFhSSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRztRQUV2RCxzQkFBc0I7UUFDdEIsSUFBSTtZQUNGLE1BQU1WLFFBQVFXLEtBQUssQ0FBQ0MsS0FBS0MsR0FBRyxJQUFJSjtRQUNsQyxFQUFFLE9BQU07WUFDTixPQUFPYixxREFBWUEsQ0FBQ2tCLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBNkMsR0FDdEQ7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLHFCQUFxQjtRQUNyQixNQUFNLEVBQUVDLEtBQUssRUFBRUMsY0FBYyxFQUFFLEdBQUcsTUFBTWIsSUFBSVMsSUFBSTtRQUVoRCxpQkFBaUI7UUFDakIsSUFBSSxDQUFDRyxTQUFTLENBQUMsaUJBQWlCRSxJQUFJLENBQUNGLFFBQVE7WUFDM0MsT0FBT3JCLHFEQUFZQSxDQUFDa0IsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUF3QyxHQUNqRDtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEseUNBQXlDO1FBRXpDLG9DQUFvQztRQUNwQyxNQUFNSSxTQUFTLE1BQU12QixrRkFBeUJBLENBQUNvQjtRQUUvQyxJQUFJLENBQUNHLE9BQU9DLE9BQU8sRUFBRTtZQUNuQiwyREFBMkQ7WUFDM0QsSUFDRUQsT0FBT0wsS0FBSyxLQUNaLHNEQUNBO2dCQUNBLE9BQU9uQixxREFBWUEsQ0FBQ2tCLElBQUksQ0FDdEI7b0JBQUVDLE9BQU9LLE9BQU9MLEtBQUs7Z0JBQUMsR0FDdEI7b0JBQUVDLFFBQVE7Z0JBQUksRUFBRSw2Q0FBNkM7O1lBRWpFO1lBRUEsT0FBT3BCLHFEQUFZQSxDQUFDa0IsSUFBSSxDQUN0QjtnQkFBRUMsT0FBT0ssT0FBT0wsS0FBSyxJQUFJO1lBQThCLEdBQ3ZEO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSwwQkFBMEI7UUFDMUIsTUFBTU0sWUFBWSxNQUFNeEIsa0ZBQStCQSxDQUFDbUI7UUFFeEQsSUFBSSxDQUFDSyxXQUFXO1lBQ2RDLFFBQVFDLElBQUksQ0FDVjtRQUVKO1FBRUEsT0FBTzVCLHFEQUFZQSxDQUFDa0IsSUFBSSxDQUFDO1lBQUVPLFNBQVM7UUFBSztJQUMzQyxFQUFFLE9BQU9OLE9BQU87UUFDZFEsUUFBUVIsS0FBSyxDQUFDLHlCQUF5QkE7UUFDdkMsT0FBT25CLHFEQUFZQSxDQUFDa0IsSUFBSSxDQUN0QjtZQUFFQyxPQUFPO1FBQXdCLEdBQ2pDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXZ6b25lLXRlY2gtd2Vic2l0ZS8uL2FwcC9hcGkvbmV3c2xldHRlci9yb3V0ZS50cz82NDQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IGFkZE5ld3NsZXR0ZXJTdWJzY3JpcHRpb24gfSBmcm9tICdAL2xpYi9nb29nbGVTaGVldHNDbGllbnQnO1xyXG5pbXBvcnQgeyBzZW5kTmV3c2xldHRlckNvbmZpcm1hdGlvbkVtYWlsIH0gZnJvbSAnQC9saWIvZW1haWxTZXJ2aWNlJztcclxuaW1wb3J0IHsgUmF0ZUxpbWl0ZXIgfSBmcm9tICdAL2xpYi9yYXRlTGltaXRlcic7XHJcblxyXG4vLyBDcmVhdGUgYSByYXRlIGxpbWl0ZXIgZm9yIG5ld3NsZXR0ZXIgc3VibWlzc2lvbnNcclxuY29uc3QgbGltaXRlciA9IFJhdGVMaW1pdGVyKHtcclxuICBpbnRlcnZhbDogNjAgKiAxMDAwLCAvLyAxIG1pbnV0ZVxyXG4gIGxpbWl0OiA1LCAvLyA1IHJlcXVlc3RzIHBlciBtaW51dGVcclxuICB1bmlxdWVUb2tlblBlckludGVydmFsOiA1MDAsXHJcbn0pO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBHZXQgY2xpZW50IElQIGZvciByYXRlIGxpbWl0aW5nXHJcbiAgICBjb25zdCBmb3J3YXJkZWRGb3IgPSByZXEuaGVhZGVycy5nZXQoJ3gtZm9yd2FyZGVkLWZvcicpO1xyXG4gICAgY29uc3QgaXAgPSBmb3J3YXJkZWRGb3IgPyBmb3J3YXJkZWRGb3Iuc3BsaXQoJywnKVswXSA6ICcxMjcuMC4wLjEnO1xyXG5cclxuICAgIC8vIEFwcGx5IHJhdGUgbGltaXRpbmdcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGxpbWl0ZXIuY2hlY2soRGF0ZS5ub3coKSwgaXApO1xyXG4gICAgfSBjYXRjaCB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnVG9vIG1hbnkgcmVxdWVzdHMsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MjkgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhcnNlIHJlcXVlc3QgYm9keVxyXG4gICAgY29uc3QgeyBlbWFpbCwgcmVjYXB0Y2hhVG9rZW4gfSA9IGF3YWl0IHJlcS5qc29uKCk7XHJcblxyXG4gICAgLy8gVmFsaWRhdGUgZW1haWxcclxuICAgIGlmICghZW1haWwgfHwgIS9eXFxTK0BcXFMrXFwuXFxTKyQvLnRlc3QoZW1haWwpKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLicgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBWZXJpZnkgcmVDQVBUQ0hBIHRva2VuIGlmIG5lZWRlZFxyXG5cclxuICAgIC8vIEFkZCBzdWJzY3JpcHRpb24gdG8gR29vZ2xlIFNoZWV0c1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWRkTmV3c2xldHRlclN1YnNjcmlwdGlvbihlbWFpbCk7XHJcblxyXG4gICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAvLyBIYW5kbGUgYWxyZWFkeSBzdWJzY3JpYmVkIGNhc2Ugd2l0aCBzcGVjaWZpYyBzdGF0dXMgY29kZVxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgcmVzdWx0LmVycm9yID09PVxyXG4gICAgICAgICdUaGlzIGVtYWlsIGlzIGFscmVhZHkgc3Vic2NyaWJlZCB0byBvdXIgbmV3c2xldHRlcidcclxuICAgICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgeyBlcnJvcjogcmVzdWx0LmVycm9yIH0sXHJcbiAgICAgICAgICB7IHN0YXR1czogNDA5IH0gLy8gNDA5IENvbmZsaWN0IGlzIGFwcHJvcHJpYXRlIGZvciBkdXBsaWNhdGVzXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6IHJlc3VsdC5lcnJvciB8fCAnRmFpbGVkIHRvIGFkZCBzdWJzY3JpcHRpb24uJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlbmQgY29uZmlybWF0aW9uIGVtYWlsXHJcbiAgICBjb25zdCBlbWFpbFNlbnQgPSBhd2FpdCBzZW5kTmV3c2xldHRlckNvbmZpcm1hdGlvbkVtYWlsKGVtYWlsKTtcclxuXHJcbiAgICBpZiAoIWVtYWlsU2VudCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgJ05ld3NsZXR0ZXIgc3Vic2NyaXB0aW9uIHNhdmVkIGJ1dCBjb25maXJtYXRpb24gZW1haWwgZmFpbGVkIHRvIHNlbmQnXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignTmV3c2xldHRlciBBUEkgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJhZGROZXdzbGV0dGVyU3Vic2NyaXB0aW9uIiwic2VuZE5ld3NsZXR0ZXJDb25maXJtYXRpb25FbWFpbCIsIlJhdGVMaW1pdGVyIiwibGltaXRlciIsImludGVydmFsIiwibGltaXQiLCJ1bmlxdWVUb2tlblBlckludGVydmFsIiwiUE9TVCIsInJlcSIsImZvcndhcmRlZEZvciIsImhlYWRlcnMiLCJnZXQiLCJpcCIsInNwbGl0IiwiY2hlY2siLCJEYXRlIiwibm93IiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiZW1haWwiLCJyZWNhcHRjaGFUb2tlbiIsInRlc3QiLCJyZXN1bHQiLCJzdWNjZXNzIiwiZW1haWxTZW50IiwiY29uc29sZSIsIndhcm4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/newsletter/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/emailService.ts":
/*!*****************************!*\
  !*** ./lib/emailService.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendContactFormEmail: () => (/* binding */ sendContactFormEmail),\n/* harmony export */   sendEmail: () => (/* binding */ sendEmail),\n/* harmony export */   sendNewsletterConfirmationEmail: () => (/* binding */ sendNewsletterConfirmationEmail)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"(rsc)/./node_modules/nodemailer/lib/nodemailer.js\");\n/* harmony import */ var googleapis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! googleapis */ \"(rsc)/./node_modules/googleapis/build/src/index.js\");\n\n\n// Create an OAuth2 client for Gmail authentication\nconst createOAuth2Client = ()=>{\n    const OAuth2 = googleapis__WEBPACK_IMPORTED_MODULE_1__.google.auth.OAuth2;\n    const oauth2Client = new OAuth2(process.env.GMAIL_CLIENT_ID, process.env.GMAIL_CLIENT_SECRET, \"https://developers.google.com/oauthplayground\" // Redirect URL\n    );\n    oauth2Client.setCredentials({\n        refresh_token: process.env.GMAIL_REFRESH_TOKEN\n    });\n    return oauth2Client;\n};\n// Initialize nodemailer transporter with OAuth2\nconst createTransporter = async ()=>{\n    try {\n        const oauth2Client = createOAuth2Client();\n        // Get access token\n        const accessToken = await new Promise((resolve, reject)=>{\n            oauth2Client.getAccessToken((err, token)=>{\n                if (err || !token) {\n                    console.error(\"Failed to get access token\", err);\n                    reject(err || new Error(\"Access token is undefined\"));\n                    return;\n                }\n                resolve(token);\n            });\n        });\n        console.log(\"Gmail OAuth2: Successfully obtained access token\");\n        // Create transporter with OAuth2\n        return nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({\n            service: \"gmail\",\n            auth: {\n                type: \"OAuth2\",\n                user: process.env.GMAIL_USER,\n                clientId: process.env.GMAIL_CLIENT_ID,\n                clientSecret: process.env.GMAIL_CLIENT_SECRET,\n                refreshToken: process.env.GMAIL_REFRESH_TOKEN,\n                accessToken\n            }\n        });\n    } catch (error) {\n        console.error(\"Error creating email transporter:\", error);\n        throw error;\n    }\n};\n// Send a standard email\nconst sendEmail = async ({ to, subject, text, html, replyTo })=>{\n    try {\n        const transporter = await createTransporter();\n        const info = await transporter.sendMail({\n            from: `\"${process.env.EMAIL_FROM_NAME}\" <${process.env.GMAIL_USER}>`,\n            to,\n            subject,\n            text,\n            html,\n            replyTo\n        });\n        console.log(\"Email sent successfully:\", info.messageId);\n        return true;\n    } catch (error) {\n        console.error(\"Failed to send email:\", error);\n        return false;\n    }\n};\n// Send contact form notification\nconst sendContactFormEmail = async ({ fullName, email, projectType, priority, projectScope })=>{\n    // Email to site owner/admin\n    const adminEmailResult = await sendEmail({\n        to: process.env.SMTP_USER,\n        subject: `New Contact Form Submission: ${projectType} (${priority})`,\n        text: `\r\n      New project inquiry from ${fullName} (${email})\r\n      \r\n      Project Type: ${projectType}\r\n      Priority: ${priority}\r\n      \r\n      Project Scope:\r\n      ${projectScope}\r\n    `,\n        html: `\r\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\r\n        <div style=\"background-color: #0d9488; padding: 20px; text-align: center;\">\r\n          <h1 style=\"color: white; margin: 0;\">New Project Inquiry</h1>\r\n        </div>\r\n        \r\n        <div style=\"padding: 20px; background-color: #f9fafb; border: 1px solid #e5e7eb;\">\r\n          <h2 style=\"color: #0d9488;\">Contact Details</h2>\r\n          <p><strong>Name:</strong> ${fullName}</p>\r\n          <p><strong>Email:</strong> ${email}</p>\r\n          \r\n          <h2 style=\"color: #0d9488;\">Project Information</h2>\r\n          <p><strong>Type:</strong> ${projectType}</p>\r\n          <p><strong>Priority:</strong> ${priority}</p>\r\n          \r\n          <h2 style=\"color: #0d9488;\">Project Scope</h2>\r\n          <div style=\"background-color: #f3f4f6; padding: 15px; border-left: 4px solid #0d9488;\">\r\n            <p>${projectScope.replace(/\\n/g, \"<br>\")}</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div style=\"text-align: center; padding: 10px; font-size: 12px; color: #6b7280;\">\r\n          <p>© ${new Date().getFullYear()} EvZone Tech. All rights reserved.</p>\r\n        </div>\r\n      </div>\r\n    `,\n        replyTo: email\n    });\n    // Confirmation email to the user\n    const userEmailResult = await sendEmail({\n        to: email,\n        subject: \"Thank you for contacting EvZone Tech\",\n        text: `\r\n      Dear ${fullName},\r\n      \r\n      Thank you for reaching out to EvZone Tech! We have received your inquiry about ${projectType} services.\r\n      \r\n      Our team will review your request and get back to you shortly.\r\n      \r\n      Project Details:\r\n      - Project Type: ${projectType}\r\n      - Priority: ${priority}\r\n      \r\n      We look forward to the possibility of working with you!\r\n      \r\n      Best regards,\r\n      The EvZone Tech Team\r\n    `,\n        html: `\r\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\r\n        <div style=\"background-color: #0d9488; padding: 20px; text-align: center;\">\r\n          <h1 style=\"color: white; margin: 0;\">Thank You for Contacting Us</h1>\r\n        </div>\r\n        \r\n        <div style=\"padding: 20px; background-color: #f9fafb; border: 1px solid #e5e7eb;\">\r\n          <p>Dear ${fullName},</p>\r\n          \r\n          <p>Thank you for reaching out to EvZone Tech! We have received your inquiry about <strong>${projectType}</strong> services.</p>\r\n          \r\n          <p>Our team will review your request and get back to you shortly.</p>\r\n          \r\n          <div style=\"background-color: #f3f4f6; padding: 15px; border-left: 4px solid #0d9488; margin: 20px 0;\">\r\n            <h3 style=\"margin-top: 0; color: #0d9488;\">Project Details</h3>\r\n            <p><strong>Project Type:</strong> ${projectType}</p>\r\n            <p><strong>Priority:</strong> ${priority}</p>\r\n          </div>\r\n          \r\n          <p>We look forward to the possibility of working with you!</p>\r\n          \r\n          <p>Best regards,<br>The EvZone Tech Team</p>\r\n        </div>\r\n        \r\n        <div style=\"text-align: center; padding: 10px; font-size: 12px; color: #6b7280;\">\r\n          <p>© ${new Date().getFullYear()} EvZone Tech. All rights reserved.</p>\r\n        </div>\r\n      </div>\r\n    `\n    });\n    return adminEmailResult && userEmailResult;\n};\n// Send newsletter subscription confirmation\nconst sendNewsletterConfirmationEmail = async (email)=>{\n    return await sendEmail({\n        to: email,\n        subject: \"Welcome to Evzone Pulse!\",\n        text: `\r\n      Thank you for subscribing to Evzone Pulse!\r\n\r\n      You will now receive updates about our latest services, industry insights, and special offers.\r\n      \r\n      If you wish to unsubscribe at any time, simply click the unsubscribe link at the bottom of our Evzone Pulse.\r\n      \r\n      Best regards,\r\n      The EvZone Tech Team\r\n    `,\n        html: `\r\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\r\n        <div style=\"background-color: #0d9488; padding: 20px; text-align: center;\">\r\n          <h1 style=\"color: white; margin: 0;\">Welcome to Our Evzone Pulse!</h1>\r\n        </div>\r\n        \r\n        <div style=\"padding: 20px; background-color: #f9fafb; border: 1px solid #e5e7eb;\">\r\n          <p>Thank you for subscribing to Evzone Pulse!</p>\r\n\r\n          <p>You will now receive updates about our latest services, industry insights, and special offers.</p>\r\n          \r\n          <div style=\"text-align: center; margin: 30px 0;\">\r\n            <a href=\"https://evzonetech.com/blog\" style=\"background-color: #0d9488; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; font-weight: bold;\">Check Out Our Blog</a>\r\n          </div>\r\n          \r\n          <p style=\"font-size: 12px; color: #6b7280;\">If you wish to unsubscribe at any time, simply click the unsubscribe link at the bottom of our Evzone Pulse emails.</p>\r\n        </div>\r\n        \r\n        <div style=\"text-align: center; padding: 10px; font-size: 12px; color: #6b7280;\">\r\n          <p>© ${new Date().getFullYear()} EvZone Tech. All rights reserved.</p>\r\n        </div>\r\n      </div>\r\n    `\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RVMsU0FBUztxQ0FDVixFQUFFQyxNQUFNOzs7b0NBR1QsRUFBRUMsWUFBWTt3Q0FDVixFQUFFQyxTQUFTOzs7O2VBSXBDLEVBQUVDLGFBQWFHLE9BQU8sQ0FBQyxPQUFPLFFBQVE7Ozs7O2VBS3RDLEVBQUUsSUFBSUMsT0FBT0MsV0FBVyxHQUFHOzs7SUFHdEMsQ0FBQztRQUNEakIsU0FBU1M7SUFDWDtJQUVBLGlDQUFpQztJQUNqQyxNQUFNUyxrQkFBa0IsTUFBTXZCLFVBQVU7UUFDdENDLElBQUlhO1FBQ0paLFNBQVM7UUFDVEMsTUFBTSxDQUFDO1dBQ0EsRUFBRVUsU0FBUzs7cUZBRStELEVBQUVFLFlBQVk7Ozs7O3NCQUs3RSxFQUFFQSxZQUFZO2tCQUNsQixFQUFFQyxTQUFTOzs7Ozs7SUFNekIsQ0FBQztRQUNEWixNQUFNLENBQUM7Ozs7Ozs7a0JBT08sRUFBRVMsU0FBUzs7b0dBRXVFLEVBQUVFLFlBQVk7Ozs7Ozs4Q0FNcEUsRUFBRUEsWUFBWTswQ0FDbEIsRUFBRUMsU0FBUzs7Ozs7Ozs7O2VBU3RDLEVBQUUsSUFBSUssT0FBT0MsV0FBVyxHQUFHOzs7SUFHdEMsQ0FBQztJQUNIO0lBRUEsT0FBT0osb0JBQW9CSztBQUM3QixFQUFFO0FBRUYsNENBQTRDO0FBQ3JDLE1BQU1DLGtDQUFrQyxPQUFPVjtJQUNwRCxPQUFPLE1BQU1kLFVBQVU7UUFDckJDLElBQUlhO1FBQ0paLFNBQVM7UUFDVEMsTUFBTSxDQUFDOzs7Ozs7Ozs7SUFTUCxDQUFDO1FBQ0RDLE1BQU0sQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztlQW1CSSxFQUFFLElBQUlpQixPQUFPQyxXQUFXLEdBQUc7OztJQUd0QyxDQUFDO0lBQ0g7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXZ6b25lLXRlY2gtd2Vic2l0ZS8uL2xpYi9lbWFpbFNlcnZpY2UudHM/MzJjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJztcclxuaW1wb3J0IHsgZ29vZ2xlIH0gZnJvbSAnZ29vZ2xlYXBpcyc7XHJcblxyXG4vLyBFbWFpbCBjb250ZW50IGludGVyZmFjZVxyXG5leHBvcnQgaW50ZXJmYWNlIEVtYWlsQ29udGVudCB7XHJcbiAgdG86IHN0cmluZztcclxuICBzdWJqZWN0OiBzdHJpbmc7XHJcbiAgdGV4dDogc3RyaW5nO1xyXG4gIGh0bWw6IHN0cmluZztcclxuICByZXBseVRvPzogc3RyaW5nO1xyXG59XHJcblxyXG4vLyBDcmVhdGUgYW4gT0F1dGgyIGNsaWVudCBmb3IgR21haWwgYXV0aGVudGljYXRpb25cclxuY29uc3QgY3JlYXRlT0F1dGgyQ2xpZW50ID0gKCkgPT4ge1xyXG4gIGNvbnN0IE9BdXRoMiA9IGdvb2dsZS5hdXRoLk9BdXRoMjtcclxuICBcclxuICBjb25zdCBvYXV0aDJDbGllbnQgPSBuZXcgT0F1dGgyKFxyXG4gICAgcHJvY2Vzcy5lbnYuR01BSUxfQ0xJRU5UX0lELFxyXG4gICAgcHJvY2Vzcy5lbnYuR01BSUxfQ0xJRU5UX1NFQ1JFVCxcclxuICAgICdodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9vYXV0aHBsYXlncm91bmQnIC8vIFJlZGlyZWN0IFVSTFxyXG4gICk7XHJcblxyXG4gIG9hdXRoMkNsaWVudC5zZXRDcmVkZW50aWFscyh7XHJcbiAgICByZWZyZXNoX3Rva2VuOiBwcm9jZXNzLmVudi5HTUFJTF9SRUZSRVNIX1RPS0VOXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBvYXV0aDJDbGllbnQ7XHJcbn07XHJcblxyXG4vLyBJbml0aWFsaXplIG5vZGVtYWlsZXIgdHJhbnNwb3J0ZXIgd2l0aCBPQXV0aDJcclxuY29uc3QgY3JlYXRlVHJhbnNwb3J0ZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IG9hdXRoMkNsaWVudCA9IGNyZWF0ZU9BdXRoMkNsaWVudCgpO1xyXG4gICAgXHJcbiAgICAvLyBHZXQgYWNjZXNzIHRva2VuXHJcbiAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IGF3YWl0IG5ldyBQcm9taXNlPHN0cmluZz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBvYXV0aDJDbGllbnQuZ2V0QWNjZXNzVG9rZW4oKGVyciwgdG9rZW4pID0+IHtcclxuICAgICAgICBpZiAoZXJyIHx8ICF0b2tlbikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBhY2Nlc3MgdG9rZW4nLCBlcnIpO1xyXG4gICAgICAgICAgcmVqZWN0KGVyciB8fCBuZXcgRXJyb3IoJ0FjY2VzcyB0b2tlbiBpcyB1bmRlZmluZWQnKSk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc29sdmUodG9rZW4pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdHbWFpbCBPQXV0aDI6IFN1Y2Nlc3NmdWxseSBvYnRhaW5lZCBhY2Nlc3MgdG9rZW4nKTtcclxuICAgIFxyXG4gICAgLy8gQ3JlYXRlIHRyYW5zcG9ydGVyIHdpdGggT0F1dGgyXHJcbiAgICByZXR1cm4gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gICAgICBzZXJ2aWNlOiAnZ21haWwnLFxyXG4gICAgICBhdXRoOiB7XHJcbiAgICAgICAgdHlwZTogJ09BdXRoMicsXHJcbiAgICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuR01BSUxfVVNFUixcclxuICAgICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR01BSUxfQ0xJRU5UX0lELFxyXG4gICAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR01BSUxfQ0xJRU5UX1NFQ1JFVCxcclxuICAgICAgICByZWZyZXNoVG9rZW46IHByb2Nlc3MuZW52LkdNQUlMX1JFRlJFU0hfVE9LRU4sXHJcbiAgICAgICAgYWNjZXNzVG9rZW5cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGVtYWlsIHRyYW5zcG9ydGVyOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIFNlbmQgYSBzdGFuZGFyZCBlbWFpbFxyXG5leHBvcnQgY29uc3Qgc2VuZEVtYWlsID0gYXN5bmMgKHsgXHJcbiAgdG8sIFxyXG4gIHN1YmplY3QsIFxyXG4gIHRleHQsIFxyXG4gIGh0bWwsIFxyXG4gIHJlcGx5VG9cclxufTogRW1haWxDb250ZW50KTogUHJvbWlzZTxib29sZWFuPiA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRyYW5zcG9ydGVyID0gYXdhaXQgY3JlYXRlVHJhbnNwb3J0ZXIoKTtcclxuICAgIFxyXG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHtcclxuICAgICAgZnJvbTogYFwiJHtwcm9jZXNzLmVudi5FTUFJTF9GUk9NX05BTUV9XCIgPCR7cHJvY2Vzcy5lbnYuR01BSUxfVVNFUn0+YCxcclxuICAgICAgdG8sXHJcbiAgICAgIHN1YmplY3QsXHJcbiAgICAgIHRleHQsXHJcbiAgICAgIGh0bWwsXHJcbiAgICAgIHJlcGx5VG9cclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdFbWFpbCBzZW50IHN1Y2Nlc3NmdWxseTonLCBpbmZvLm1lc3NhZ2VJZCk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNlbmQgZW1haWw6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIFNlbmQgY29udGFjdCBmb3JtIG5vdGlmaWNhdGlvblxyXG5leHBvcnQgY29uc3Qgc2VuZENvbnRhY3RGb3JtRW1haWwgPSBhc3luYyAoe1xyXG4gIGZ1bGxOYW1lLFxyXG4gIGVtYWlsLFxyXG4gIHByb2plY3RUeXBlLFxyXG4gIHByaW9yaXR5LFxyXG4gIHByb2plY3RTY29wZVxyXG59OiB7XHJcbiAgZnVsbE5hbWU6IHN0cmluZztcclxuICBlbWFpbDogc3RyaW5nO1xyXG4gIHByb2plY3RUeXBlOiBzdHJpbmc7XHJcbiAgcHJpb3JpdHk6IHN0cmluZztcclxuICBwcm9qZWN0U2NvcGU6IHN0cmluZztcclxufSk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xyXG4gIC8vIEVtYWlsIHRvIHNpdGUgb3duZXIvYWRtaW5cclxuICBjb25zdCBhZG1pbkVtYWlsUmVzdWx0ID0gYXdhaXQgc2VuZEVtYWlsKHtcclxuICAgIHRvOiBwcm9jZXNzLmVudi5TTVRQX1VTRVIhLFxyXG4gICAgc3ViamVjdDogYE5ldyBDb250YWN0IEZvcm0gU3VibWlzc2lvbjogJHtwcm9qZWN0VHlwZX0gKCR7cHJpb3JpdHl9KWAsXHJcbiAgICB0ZXh0OiBgXHJcbiAgICAgIE5ldyBwcm9qZWN0IGlucXVpcnkgZnJvbSAke2Z1bGxOYW1lfSAoJHtlbWFpbH0pXHJcbiAgICAgIFxyXG4gICAgICBQcm9qZWN0IFR5cGU6ICR7cHJvamVjdFR5cGV9XHJcbiAgICAgIFByaW9yaXR5OiAke3ByaW9yaXR5fVxyXG4gICAgICBcclxuICAgICAgUHJvamVjdCBTY29wZTpcclxuICAgICAgJHtwcm9qZWN0U2NvcGV9XHJcbiAgICBgLFxyXG4gICAgaHRtbDogYFxyXG4gICAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bztcIj5cclxuICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogIzBkOTQ4ODsgcGFkZGluZzogMjBweDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxyXG4gICAgICAgICAgPGgxIHN0eWxlPVwiY29sb3I6IHdoaXRlOyBtYXJnaW46IDA7XCI+TmV3IFByb2plY3QgSW5xdWlyeTwvaDE+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDIwcHg7IGJhY2tncm91bmQtY29sb3I6ICNmOWZhZmI7IGJvcmRlcjogMXB4IHNvbGlkICNlNWU3ZWI7XCI+XHJcbiAgICAgICAgICA8aDIgc3R5bGU9XCJjb2xvcjogIzBkOTQ4ODtcIj5Db250YWN0IERldGFpbHM8L2gyPlxyXG4gICAgICAgICAgPHA+PHN0cm9uZz5OYW1lOjwvc3Ryb25nPiAke2Z1bGxOYW1lfTwvcD5cclxuICAgICAgICAgIDxwPjxzdHJvbmc+RW1haWw6PC9zdHJvbmc+ICR7ZW1haWx9PC9wPlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICA8aDIgc3R5bGU9XCJjb2xvcjogIzBkOTQ4ODtcIj5Qcm9qZWN0IEluZm9ybWF0aW9uPC9oMj5cclxuICAgICAgICAgIDxwPjxzdHJvbmc+VHlwZTo8L3N0cm9uZz4gJHtwcm9qZWN0VHlwZX08L3A+XHJcbiAgICAgICAgICA8cD48c3Ryb25nPlByaW9yaXR5Ojwvc3Ryb25nPiAke3ByaW9yaXR5fTwvcD5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGgyIHN0eWxlPVwiY29sb3I6ICMwZDk0ODg7XCI+UHJvamVjdCBTY29wZTwvaDI+XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogI2YzZjRmNjsgcGFkZGluZzogMTVweDsgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjMGQ5NDg4O1wiPlxyXG4gICAgICAgICAgICA8cD4ke3Byb2plY3RTY29wZS5yZXBsYWNlKC9cXG4vZywgJzxicj4nKX08L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBcclxuICAgICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiAxMHB4OyBmb250LXNpemU6IDEycHg7IGNvbG9yOiAjNmI3MjgwO1wiPlxyXG4gICAgICAgICAgPHA+wqkgJHtuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCl9IEV2Wm9uZSBUZWNoLiBBbGwgcmlnaHRzIHJlc2VydmVkLjwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICBgLFxyXG4gICAgcmVwbHlUbzogZW1haWxcclxuICB9KTtcclxuICBcclxuICAvLyBDb25maXJtYXRpb24gZW1haWwgdG8gdGhlIHVzZXJcclxuICBjb25zdCB1c2VyRW1haWxSZXN1bHQgPSBhd2FpdCBzZW5kRW1haWwoe1xyXG4gICAgdG86IGVtYWlsLFxyXG4gICAgc3ViamVjdDogJ1RoYW5rIHlvdSBmb3IgY29udGFjdGluZyBFdlpvbmUgVGVjaCcsXHJcbiAgICB0ZXh0OiBgXHJcbiAgICAgIERlYXIgJHtmdWxsTmFtZX0sXHJcbiAgICAgIFxyXG4gICAgICBUaGFuayB5b3UgZm9yIHJlYWNoaW5nIG91dCB0byBFdlpvbmUgVGVjaCEgV2UgaGF2ZSByZWNlaXZlZCB5b3VyIGlucXVpcnkgYWJvdXQgJHtwcm9qZWN0VHlwZX0gc2VydmljZXMuXHJcbiAgICAgIFxyXG4gICAgICBPdXIgdGVhbSB3aWxsIHJldmlldyB5b3VyIHJlcXVlc3QgYW5kIGdldCBiYWNrIHRvIHlvdSBzaG9ydGx5LlxyXG4gICAgICBcclxuICAgICAgUHJvamVjdCBEZXRhaWxzOlxyXG4gICAgICAtIFByb2plY3QgVHlwZTogJHtwcm9qZWN0VHlwZX1cclxuICAgICAgLSBQcmlvcml0eTogJHtwcmlvcml0eX1cclxuICAgICAgXHJcbiAgICAgIFdlIGxvb2sgZm9yd2FyZCB0byB0aGUgcG9zc2liaWxpdHkgb2Ygd29ya2luZyB3aXRoIHlvdSFcclxuICAgICAgXHJcbiAgICAgIEJlc3QgcmVnYXJkcyxcclxuICAgICAgVGhlIEV2Wm9uZSBUZWNoIFRlYW1cclxuICAgIGAsXHJcbiAgICBodG1sOiBgXHJcbiAgICAgIDxkaXYgc3R5bGU9XCJmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvO1wiPlxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjMGQ5NDg4OyBwYWRkaW5nOiAyMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XHJcbiAgICAgICAgICA8aDEgc3R5bGU9XCJjb2xvcjogd2hpdGU7IG1hcmdpbjogMDtcIj5UaGFuayBZb3UgZm9yIENvbnRhY3RpbmcgVXM8L2gxPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOiAyMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmYWZiOyBib3JkZXI6IDFweCBzb2xpZCAjZTVlN2ViO1wiPlxyXG4gICAgICAgICAgPHA+RGVhciAke2Z1bGxOYW1lfSw8L3A+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxwPlRoYW5rIHlvdSBmb3IgcmVhY2hpbmcgb3V0IHRvIEV2Wm9uZSBUZWNoISBXZSBoYXZlIHJlY2VpdmVkIHlvdXIgaW5xdWlyeSBhYm91dCA8c3Ryb25nPiR7cHJvamVjdFR5cGV9PC9zdHJvbmc+IHNlcnZpY2VzLjwvcD5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPHA+T3VyIHRlYW0gd2lsbCByZXZpZXcgeW91ciByZXF1ZXN0IGFuZCBnZXQgYmFjayB0byB5b3Ugc2hvcnRseS48L3A+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjZjNmNGY2OyBwYWRkaW5nOiAxNXB4OyBib3JkZXItbGVmdDogNHB4IHNvbGlkICMwZDk0ODg7IG1hcmdpbjogMjBweCAwO1wiPlxyXG4gICAgICAgICAgICA8aDMgc3R5bGU9XCJtYXJnaW4tdG9wOiAwOyBjb2xvcjogIzBkOTQ4ODtcIj5Qcm9qZWN0IERldGFpbHM8L2gzPlxyXG4gICAgICAgICAgICA8cD48c3Ryb25nPlByb2plY3QgVHlwZTo8L3N0cm9uZz4gJHtwcm9qZWN0VHlwZX08L3A+XHJcbiAgICAgICAgICAgIDxwPjxzdHJvbmc+UHJpb3JpdHk6PC9zdHJvbmc+ICR7cHJpb3JpdHl9PC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxwPldlIGxvb2sgZm9yd2FyZCB0byB0aGUgcG9zc2liaWxpdHkgb2Ygd29ya2luZyB3aXRoIHlvdSE8L3A+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxwPkJlc3QgcmVnYXJkcyw8YnI+VGhlIEV2Wm9uZSBUZWNoIFRlYW08L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogMTBweDsgZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzZiNzI4MDtcIj5cclxuICAgICAgICAgIDxwPsKpICR7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfSBFdlpvbmUgVGVjaC4gQWxsIHJpZ2h0cyByZXNlcnZlZC48L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYFxyXG4gIH0pO1xyXG4gIFxyXG4gIHJldHVybiBhZG1pbkVtYWlsUmVzdWx0ICYmIHVzZXJFbWFpbFJlc3VsdDtcclxufTtcclxuXHJcbi8vIFNlbmQgbmV3c2xldHRlciBzdWJzY3JpcHRpb24gY29uZmlybWF0aW9uXHJcbmV4cG9ydCBjb25zdCBzZW5kTmV3c2xldHRlckNvbmZpcm1hdGlvbkVtYWlsID0gYXN5bmMgKGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcclxuICByZXR1cm4gYXdhaXQgc2VuZEVtYWlsKHtcclxuICAgIHRvOiBlbWFpbCxcclxuICAgIHN1YmplY3Q6ICdXZWxjb21lIHRvIEV2em9uZSBQdWxzZSEnLFxyXG4gICAgdGV4dDogYFxyXG4gICAgICBUaGFuayB5b3UgZm9yIHN1YnNjcmliaW5nIHRvIEV2em9uZSBQdWxzZSFcclxuXHJcbiAgICAgIFlvdSB3aWxsIG5vdyByZWNlaXZlIHVwZGF0ZXMgYWJvdXQgb3VyIGxhdGVzdCBzZXJ2aWNlcywgaW5kdXN0cnkgaW5zaWdodHMsIGFuZCBzcGVjaWFsIG9mZmVycy5cclxuICAgICAgXHJcbiAgICAgIElmIHlvdSB3aXNoIHRvIHVuc3Vic2NyaWJlIGF0IGFueSB0aW1lLCBzaW1wbHkgY2xpY2sgdGhlIHVuc3Vic2NyaWJlIGxpbmsgYXQgdGhlIGJvdHRvbSBvZiBvdXIgRXZ6b25lIFB1bHNlLlxyXG4gICAgICBcclxuICAgICAgQmVzdCByZWdhcmRzLFxyXG4gICAgICBUaGUgRXZab25lIFRlY2ggVGVhbVxyXG4gICAgYCxcclxuICAgIGh0bWw6IGBcclxuICAgICAgPGRpdiBzdHlsZT1cImZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgbWF4LXdpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87XCI+XHJcbiAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICMwZDk0ODg7IHBhZGRpbmc6IDIwcHg7IHRleHQtYWxpZ246IGNlbnRlcjtcIj5cclxuICAgICAgICAgIDxoMSBzdHlsZT1cImNvbG9yOiB3aGl0ZTsgbWFyZ2luOiAwO1wiPldlbGNvbWUgdG8gT3VyIEV2em9uZSBQdWxzZSE8L2gxPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOiAyMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmYWZiOyBib3JkZXI6IDFweCBzb2xpZCAjZTVlN2ViO1wiPlxyXG4gICAgICAgICAgPHA+VGhhbmsgeW91IGZvciBzdWJzY3JpYmluZyB0byBFdnpvbmUgUHVsc2UhPC9wPlxyXG5cclxuICAgICAgICAgIDxwPllvdSB3aWxsIG5vdyByZWNlaXZlIHVwZGF0ZXMgYWJvdXQgb3VyIGxhdGVzdCBzZXJ2aWNlcywgaW5kdXN0cnkgaW5zaWdodHMsIGFuZCBzcGVjaWFsIG9mZmVycy48L3A+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogMzBweCAwO1wiPlxyXG4gICAgICAgICAgICA8YSBocmVmPVwiaHR0cHM6Ly9ldnpvbmV0ZWNoLmNvbS9ibG9nXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjMGQ5NDg4OyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDEwcHggMjBweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBib3JkZXItcmFkaXVzOiA0cHg7IGZvbnQtd2VpZ2h0OiBib2xkO1wiPkNoZWNrIE91dCBPdXIgQmxvZzwvYT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMTJweDsgY29sb3I6ICM2YjcyODA7XCI+SWYgeW91IHdpc2ggdG8gdW5zdWJzY3JpYmUgYXQgYW55IHRpbWUsIHNpbXBseSBjbGljayB0aGUgdW5zdWJzY3JpYmUgbGluayBhdCB0aGUgYm90dG9tIG9mIG91ciBFdnpvbmUgUHVsc2UgZW1haWxzLjwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBcclxuICAgICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiAxMHB4OyBmb250LXNpemU6IDEycHg7IGNvbG9yOiAjNmI3MjgwO1wiPlxyXG4gICAgICAgICAgPHA+wqkgJHtuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCl9IEV2Wm9uZSBUZWNoLiBBbGwgcmlnaHRzIHJlc2VydmVkLjwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICBgXHJcbiAgfSk7XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwiZ29vZ2xlIiwiY3JlYXRlT0F1dGgyQ2xpZW50IiwiT0F1dGgyIiwiYXV0aCIsIm9hdXRoMkNsaWVudCIsInByb2Nlc3MiLCJlbnYiLCJHTUFJTF9DTElFTlRfSUQiLCJHTUFJTF9DTElFTlRfU0VDUkVUIiwic2V0Q3JlZGVudGlhbHMiLCJyZWZyZXNoX3Rva2VuIiwiR01BSUxfUkVGUkVTSF9UT0tFTiIsImNyZWF0ZVRyYW5zcG9ydGVyIiwiYWNjZXNzVG9rZW4iLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImdldEFjY2Vzc1Rva2VuIiwiZXJyIiwidG9rZW4iLCJjb25zb2xlIiwiZXJyb3IiLCJFcnJvciIsImxvZyIsImNyZWF0ZVRyYW5zcG9ydCIsInNlcnZpY2UiLCJ0eXBlIiwidXNlciIsIkdNQUlMX1VTRVIiLCJjbGllbnRJZCIsImNsaWVudFNlY3JldCIsInJlZnJlc2hUb2tlbiIsInNlbmRFbWFpbCIsInRvIiwic3ViamVjdCIsInRleHQiLCJodG1sIiwicmVwbHlUbyIsInRyYW5zcG9ydGVyIiwiaW5mbyIsInNlbmRNYWlsIiwiZnJvbSIsIkVNQUlMX0ZST01fTkFNRSIsIm1lc3NhZ2VJZCIsInNlbmRDb250YWN0Rm9ybUVtYWlsIiwiZnVsbE5hbWUiLCJlbWFpbCIsInByb2plY3RUeXBlIiwicHJpb3JpdHkiLCJwcm9qZWN0U2NvcGUiLCJhZG1pbkVtYWlsUmVzdWx0IiwiU01UUF9VU0VSIiwicmVwbGFjZSIsIkRhdGUiLCJnZXRGdWxsWWVhciIsInVzZXJFbWFpbFJlc3VsdCIsInNlbmROZXdzbGV0dGVyQ29uZmlybWF0aW9uRW1haWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/emailService.ts\n");

/***/ }),

/***/ "(rsc)/./lib/googleSheetsClient.ts":
/*!***********************************!*\
  !*** ./lib/googleSheetsClient.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addContactSubmission: () => (/* binding */ addContactSubmission),\n/* harmony export */   addNewsletterSubscription: () => (/* binding */ addNewsletterSubscription),\n/* harmony export */   checkEmailExists: () => (/* binding */ checkEmailExists),\n/* harmony export */   getOrCreateSheet: () => (/* binding */ getOrCreateSheet),\n/* harmony export */   getSpreadsheet: () => (/* binding */ getSpreadsheet)\n/* harmony export */ });\n/* harmony import */ var google_spreadsheet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! google-spreadsheet */ \"(rsc)/./node_modules/google-spreadsheet/dist/index.mjs\");\n/* harmony import */ var google_auth_library__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! google-auth-library */ \"(rsc)/./node_modules/google-auth-library/build/src/index.js\");\n\n\n/**\r\n * Get an authenticated Google Sheets document instance\r\n */ async function getSpreadsheet(sheetId) {\n    try {\n        if (!process.env.GOOGLE_SERVICE_ACCOUNT_EMAIL || !process.env.GOOGLE_PRIVATE_KEY) {\n            throw new Error(\"Google Sheets credentials not found in environment variables\");\n        }\n        // Fix private key format - ensure it has proper PEM formatting\n        let privateKey = process.env.GOOGLE_PRIVATE_KEY;\n        // Handle different private key formats that might be in the env var\n        if (!privateKey.includes(\"-----BEGIN PRIVATE KEY-----\")) {\n            privateKey = privateKey.replace(/\\\\n/g, \"\\n\");\n        }\n        console.log(\"Google Sheets: Creating auth with email:\", process.env.GOOGLE_SERVICE_ACCOUNT_EMAIL);\n        // Create JWT client for authentication\n        const serviceAccountAuth = new google_auth_library__WEBPACK_IMPORTED_MODULE_1__.JWT({\n            email: process.env.GOOGLE_SERVICE_ACCOUNT_EMAIL,\n            key: privateKey,\n            scopes: [\n                \"https://www.googleapis.com/auth/spreadsheets\"\n            ]\n        });\n        // Create document with auth - using v4 constructor method with both arguments\n        const doc = new google_spreadsheet__WEBPACK_IMPORTED_MODULE_0__.GoogleSpreadsheet(sheetId, serviceAccountAuth);\n        // Load document properties\n        await doc.loadInfo();\n        return doc;\n    } catch (error) {\n        console.error(\"Error accessing Google Sheet:\", error);\n        throw new Error(\"Failed to access Google Sheet\");\n    }\n}\n/**\r\n * Ensure a sheet exists with the required headers\r\n */ async function getOrCreateSheet(doc, sheetTitle, headers) {\n    let sheet = doc.sheetsByTitle[sheetTitle];\n    if (!sheet) {\n        sheet = await doc.addSheet({\n            title: sheetTitle,\n            headerValues: headers\n        });\n        console.log(`Created new sheet: ${sheetTitle}`);\n    }\n    return sheet;\n}\n/**\r\n * Add a new contact form submission to Google Sheets\r\n */ async function addContactSubmission(data) {\n    try {\n        // Check if GOOGLE_SHEET_ID exists\n        if (!process.env.GOOGLE_SHEET_ID) {\n            console.error(\"GOOGLE_SHEET_ID not found in environment variables\");\n            return {\n                success: false,\n                error: \"Missing Google Sheet ID configuration\"\n            };\n        }\n        const doc = await getSpreadsheet(process.env.GOOGLE_SHEET_ID);\n        const sheet = await getOrCreateSheet(doc, \"Contact Submissions\", [\n            \"Timestamp\",\n            \"Full Name\",\n            \"Email\",\n            \"Project Type\",\n            \"Priority\",\n            \"Project Details\"\n        ]);\n        // Add the row with data\n        await sheet.addRow({\n            \"Timestamp\": new Date().toISOString(),\n            \"Full Name\": data.fullName,\n            \"Email\": data.email,\n            \"Project Type\": data.projectType,\n            \"Priority\": data.priority,\n            \"Project Details\": data.projectScope\n        });\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Error adding contact submission:\", error);\n        return {\n            success: false,\n            error: \"Failed to add submission to Google Sheets\"\n        };\n    }\n}\n/**\r\n * Check if an email already exists in the newsletter subscriptions\r\n */ async function checkEmailExists(email) {\n    try {\n        // Check if GOOGLE_SHEET_ID exists\n        if (!process.env.GOOGLE_SHEET_ID) {\n            console.error(\"GOOGLE_SHEET_ID not found in environment variables\");\n            throw new Error(\"Missing Google Sheet ID configuration\");\n        }\n        const doc = await getSpreadsheet(process.env.GOOGLE_SHEET_ID);\n        // Get the newsletter sheet, don't create if it doesn't exist\n        const sheetTitle = \"Newsletter Subscriptions\";\n        let sheet = doc.sheetsByTitle[sheetTitle];\n        if (!sheet) {\n            // If sheet doesn't exist, no subscriptions exist yet\n            return false;\n        }\n        // Load all rows to check for the email\n        const rows = await sheet.getRows();\n        // Check if any row has this email\n        return rows.some((row)=>{\n            const rowEmail = row.get(\"Email\");\n            return rowEmail && rowEmail.toLowerCase() === email.toLowerCase();\n        });\n    } catch (error) {\n        console.error(\"Error checking if email exists:\", error);\n        // In case of error, assume email doesn't exist to avoid blocking legitimate subscriptions\n        return false;\n    }\n}\n/**\r\n * Add a new newsletter subscription to Google Sheets\r\n */ async function addNewsletterSubscription(email) {\n    try {\n        // Check if GOOGLE_SHEET_ID exists\n        if (!process.env.GOOGLE_SHEET_ID) {\n            console.error(\"GOOGLE_SHEET_ID not found in environment variables\");\n            return {\n                success: false,\n                error: \"Missing Google Sheet ID configuration\"\n            };\n        }\n        // Check if email already exists\n        const emailExists = await checkEmailExists(email);\n        if (emailExists) {\n            return {\n                success: false,\n                error: \"This email is already subscribed to our newsletter\"\n            };\n        }\n        const doc = await getSpreadsheet(process.env.GOOGLE_SHEET_ID);\n        const sheet = await getOrCreateSheet(doc, \"Newsletter Subscriptions\", [\n            \"Timestamp\",\n            \"Email\",\n            \"Source\"\n        ]);\n        // Add the row with data\n        await sheet.addRow({\n            \"Timestamp\": new Date().toISOString(),\n            \"Email\": email,\n            \"Source\": \"Website Newsletter Form\"\n        });\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Error adding newsletter subscription:\", error);\n        return {\n            success: false,\n            error: \"Failed to add subscription to Google Sheets\"\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBT0MsV0FBVztZQUNuQyxTQUFTcEI7WUFDVCxVQUFVO1FBQ1o7UUFFQSxPQUFPO1lBQUVpQixTQUFTO1FBQUs7SUFDekIsRUFBRSxPQUFPWixPQUFPO1FBQ2RSLFFBQVFRLEtBQUssQ0FBQyx5Q0FBeUNBO1FBQ3ZELE9BQU87WUFBRVksU0FBUztZQUFPWixPQUFPO1FBQThDO0lBQ2hGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldnpvbmUtdGVjaC13ZWJzaXRlLy4vbGliL2dvb2dsZVNoZWV0c0NsaWVudC50cz9jODc4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdvb2dsZVNwcmVhZHNoZWV0IH0gZnJvbSAnZ29vZ2xlLXNwcmVhZHNoZWV0JztcclxuaW1wb3J0IHsgSldUIH0gZnJvbSAnZ29vZ2xlLWF1dGgtbGlicmFyeSc7XHJcblxyXG4vKipcclxuICogR2V0IGFuIGF1dGhlbnRpY2F0ZWQgR29vZ2xlIFNoZWV0cyBkb2N1bWVudCBpbnN0YW5jZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNwcmVhZHNoZWV0KHNoZWV0SWQ6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICBpZiAoIXByb2Nlc3MuZW52LkdPT0dMRV9TRVJWSUNFX0FDQ09VTlRfRU1BSUwgfHwgIXByb2Nlc3MuZW52LkdPT0dMRV9QUklWQVRFX0tFWSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0dvb2dsZSBTaGVldHMgY3JlZGVudGlhbHMgbm90IGZvdW5kIGluIGVudmlyb25tZW50IHZhcmlhYmxlcycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZpeCBwcml2YXRlIGtleSBmb3JtYXQgLSBlbnN1cmUgaXQgaGFzIHByb3BlciBQRU0gZm9ybWF0dGluZ1xyXG4gICAgbGV0IHByaXZhdGVLZXkgPSBwcm9jZXNzLmVudi5HT09HTEVfUFJJVkFURV9LRVk7XHJcbiAgICBcclxuICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgcHJpdmF0ZSBrZXkgZm9ybWF0cyB0aGF0IG1pZ2h0IGJlIGluIHRoZSBlbnYgdmFyXHJcbiAgICBpZiAoIXByaXZhdGVLZXkuaW5jbHVkZXMoJy0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLScpKSB7XHJcbiAgICAgIHByaXZhdGVLZXkgPSBwcml2YXRlS2V5LnJlcGxhY2UoL1xcXFxuL2csICdcXG4nKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0dvb2dsZSBTaGVldHM6IENyZWF0aW5nIGF1dGggd2l0aCBlbWFpbDonLCBwcm9jZXNzLmVudi5HT09HTEVfU0VSVklDRV9BQ0NPVU5UX0VNQUlMKTtcclxuICAgIFxyXG4gICAgLy8gQ3JlYXRlIEpXVCBjbGllbnQgZm9yIGF1dGhlbnRpY2F0aW9uXHJcbiAgICBjb25zdCBzZXJ2aWNlQWNjb3VudEF1dGggPSBuZXcgSldUKHtcclxuICAgICAgZW1haWw6IHByb2Nlc3MuZW52LkdPT0dMRV9TRVJWSUNFX0FDQ09VTlRfRU1BSUwsXHJcbiAgICAgIGtleTogcHJpdmF0ZUtleSxcclxuICAgICAgc2NvcGVzOiBbJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvc3ByZWFkc2hlZXRzJ10sXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDcmVhdGUgZG9jdW1lbnQgd2l0aCBhdXRoIC0gdXNpbmcgdjQgY29uc3RydWN0b3IgbWV0aG9kIHdpdGggYm90aCBhcmd1bWVudHNcclxuICAgIGNvbnN0IGRvYyA9IG5ldyBHb29nbGVTcHJlYWRzaGVldChzaGVldElkLCBzZXJ2aWNlQWNjb3VudEF1dGgpO1xyXG4gICAgXHJcbiAgICAvLyBMb2FkIGRvY3VtZW50IHByb3BlcnRpZXNcclxuICAgIGF3YWl0IGRvYy5sb2FkSW5mbygpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gZG9jO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhY2Nlc3NpbmcgR29vZ2xlIFNoZWV0OicsIGVycm9yKTtcclxuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGFjY2VzcyBHb29nbGUgU2hlZXQnKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFbnN1cmUgYSBzaGVldCBleGlzdHMgd2l0aCB0aGUgcmVxdWlyZWQgaGVhZGVyc1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE9yQ3JlYXRlU2hlZXQoZG9jOiBHb29nbGVTcHJlYWRzaGVldCwgc2hlZXRUaXRsZTogc3RyaW5nLCBoZWFkZXJzOiBzdHJpbmdbXSkge1xyXG4gIGxldCBzaGVldCA9IGRvYy5zaGVldHNCeVRpdGxlW3NoZWV0VGl0bGVdO1xyXG4gIFxyXG4gIGlmICghc2hlZXQpIHtcclxuICAgIHNoZWV0ID0gYXdhaXQgZG9jLmFkZFNoZWV0KHsgXHJcbiAgICAgIHRpdGxlOiBzaGVldFRpdGxlLCBcclxuICAgICAgaGVhZGVyVmFsdWVzOiBoZWFkZXJzIFxyXG4gICAgfSk7XHJcbiAgICBjb25zb2xlLmxvZyhgQ3JlYXRlZCBuZXcgc2hlZXQ6ICR7c2hlZXRUaXRsZX1gKTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHNoZWV0O1xyXG59XHJcblxyXG4vKipcclxuICogQWRkIGEgbmV3IGNvbnRhY3QgZm9ybSBzdWJtaXNzaW9uIHRvIEdvb2dsZSBTaGVldHNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRDb250YWN0U3VibWlzc2lvbihkYXRhOiB7XHJcbiAgZnVsbE5hbWU6IHN0cmluZztcclxuICBlbWFpbDogc3RyaW5nO1xyXG4gIHByb2plY3RUeXBlOiBzdHJpbmc7XHJcbiAgcHJpb3JpdHk6IHN0cmluZztcclxuICBwcm9qZWN0U2NvcGU6IHN0cmluZztcclxufSkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBpZiBHT09HTEVfU0hFRVRfSUQgZXhpc3RzXHJcbiAgICBpZiAoIXByb2Nlc3MuZW52LkdPT0dMRV9TSEVFVF9JRCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdHT09HTEVfU0hFRVRfSUQgbm90IGZvdW5kIGluIGVudmlyb25tZW50IHZhcmlhYmxlcycpO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdNaXNzaW5nIEdvb2dsZSBTaGVldCBJRCBjb25maWd1cmF0aW9uJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBkb2MgPSBhd2FpdCBnZXRTcHJlYWRzaGVldChwcm9jZXNzLmVudi5HT09HTEVfU0hFRVRfSUQpO1xyXG4gICAgXHJcbiAgICBjb25zdCBzaGVldCA9IGF3YWl0IGdldE9yQ3JlYXRlU2hlZXQoXHJcbiAgICAgIGRvYywgXHJcbiAgICAgICdDb250YWN0IFN1Ym1pc3Npb25zJyxcclxuICAgICAgWydUaW1lc3RhbXAnLCAnRnVsbCBOYW1lJywgJ0VtYWlsJywgJ1Byb2plY3QgVHlwZScsICdQcmlvcml0eScsICdQcm9qZWN0IERldGFpbHMnXVxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgLy8gQWRkIHRoZSByb3cgd2l0aCBkYXRhXHJcbiAgICBhd2FpdCBzaGVldC5hZGRSb3coe1xyXG4gICAgICAnVGltZXN0YW1wJzogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAnRnVsbCBOYW1lJzogZGF0YS5mdWxsTmFtZSxcclxuICAgICAgJ0VtYWlsJzogZGF0YS5lbWFpbCxcclxuICAgICAgJ1Byb2plY3QgVHlwZSc6IGRhdGEucHJvamVjdFR5cGUsXHJcbiAgICAgICdQcmlvcml0eSc6IGRhdGEucHJpb3JpdHksXHJcbiAgICAgICdQcm9qZWN0IERldGFpbHMnOiBkYXRhLnByb2plY3RTY29wZVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIGNvbnRhY3Qgc3VibWlzc2lvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gYWRkIHN1Ym1pc3Npb24gdG8gR29vZ2xlIFNoZWV0cycgfTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhbiBlbWFpbCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgbmV3c2xldHRlciBzdWJzY3JpcHRpb25zXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tFbWFpbEV4aXN0cyhlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGlmIEdPT0dMRV9TSEVFVF9JRCBleGlzdHNcclxuICAgIGlmICghcHJvY2Vzcy5lbnYuR09PR0xFX1NIRUVUX0lEKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0dPT0dMRV9TSEVFVF9JRCBub3QgZm91bmQgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzJyk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBHb29nbGUgU2hlZXQgSUQgY29uZmlndXJhdGlvbicpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBkb2MgPSBhd2FpdCBnZXRTcHJlYWRzaGVldChwcm9jZXNzLmVudi5HT09HTEVfU0hFRVRfSUQpO1xyXG4gICAgXHJcbiAgICAvLyBHZXQgdGhlIG5ld3NsZXR0ZXIgc2hlZXQsIGRvbid0IGNyZWF0ZSBpZiBpdCBkb2Vzbid0IGV4aXN0XHJcbiAgICBjb25zdCBzaGVldFRpdGxlID0gJ05ld3NsZXR0ZXIgU3Vic2NyaXB0aW9ucyc7XHJcbiAgICBsZXQgc2hlZXQgPSBkb2Muc2hlZXRzQnlUaXRsZVtzaGVldFRpdGxlXTtcclxuICAgIFxyXG4gICAgaWYgKCFzaGVldCkge1xyXG4gICAgICAvLyBJZiBzaGVldCBkb2Vzbid0IGV4aXN0LCBubyBzdWJzY3JpcHRpb25zIGV4aXN0IHlldFxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIExvYWQgYWxsIHJvd3MgdG8gY2hlY2sgZm9yIHRoZSBlbWFpbFxyXG4gICAgY29uc3Qgcm93cyA9IGF3YWl0IHNoZWV0LmdldFJvd3MoKTtcclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgaWYgYW55IHJvdyBoYXMgdGhpcyBlbWFpbFxyXG4gICAgcmV0dXJuIHJvd3Muc29tZShyb3cgPT4ge1xyXG4gICAgICBjb25zdCByb3dFbWFpbCA9IHJvdy5nZXQoJ0VtYWlsJyk7XHJcbiAgICAgIHJldHVybiByb3dFbWFpbCAmJiByb3dFbWFpbC50b0xvd2VyQ2FzZSgpID09PSBlbWFpbC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgaWYgZW1haWwgZXhpc3RzOicsIGVycm9yKTtcclxuICAgIC8vIEluIGNhc2Ugb2YgZXJyb3IsIGFzc3VtZSBlbWFpbCBkb2Vzbid0IGV4aXN0IHRvIGF2b2lkIGJsb2NraW5nIGxlZ2l0aW1hdGUgc3Vic2NyaXB0aW9uc1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEFkZCBhIG5ldyBuZXdzbGV0dGVyIHN1YnNjcmlwdGlvbiB0byBHb29nbGUgU2hlZXRzXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkTmV3c2xldHRlclN1YnNjcmlwdGlvbihlbWFpbDogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIENoZWNrIGlmIEdPT0dMRV9TSEVFVF9JRCBleGlzdHNcclxuICAgIGlmICghcHJvY2Vzcy5lbnYuR09PR0xFX1NIRUVUX0lEKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0dPT0dMRV9TSEVFVF9JRCBub3QgZm91bmQgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzJyk7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ01pc3NpbmcgR29vZ2xlIFNoZWV0IElEIGNvbmZpZ3VyYXRpb24nIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGlmIGVtYWlsIGFscmVhZHkgZXhpc3RzXHJcbiAgICBjb25zdCBlbWFpbEV4aXN0cyA9IGF3YWl0IGNoZWNrRW1haWxFeGlzdHMoZW1haWwpO1xyXG4gICAgaWYgKGVtYWlsRXhpc3RzKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1RoaXMgZW1haWwgaXMgYWxyZWFkeSBzdWJzY3JpYmVkIHRvIG91ciBuZXdzbGV0dGVyJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBkb2MgPSBhd2FpdCBnZXRTcHJlYWRzaGVldChwcm9jZXNzLmVudi5HT09HTEVfU0hFRVRfSUQpO1xyXG4gICAgXHJcbiAgICBjb25zdCBzaGVldCA9IGF3YWl0IGdldE9yQ3JlYXRlU2hlZXQoXHJcbiAgICAgIGRvYywgXHJcbiAgICAgICdOZXdzbGV0dGVyIFN1YnNjcmlwdGlvbnMnLFxyXG4gICAgICBbJ1RpbWVzdGFtcCcsICdFbWFpbCcsICdTb3VyY2UnXVxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgLy8gQWRkIHRoZSByb3cgd2l0aCBkYXRhXHJcbiAgICBhd2FpdCBzaGVldC5hZGRSb3coe1xyXG4gICAgICAnVGltZXN0YW1wJzogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAnRW1haWwnOiBlbWFpbCxcclxuICAgICAgJ1NvdXJjZSc6ICdXZWJzaXRlIE5ld3NsZXR0ZXIgRm9ybSdcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyBuZXdzbGV0dGVyIHN1YnNjcmlwdGlvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gYWRkIHN1YnNjcmlwdGlvbiB0byBHb29nbGUgU2hlZXRzJyB9O1xyXG4gIH1cclxufVxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJHb29nbGVTcHJlYWRzaGVldCIsIkpXVCIsImdldFNwcmVhZHNoZWV0Iiwic2hlZXRJZCIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfU0VSVklDRV9BQ0NPVU5UX0VNQUlMIiwiR09PR0xFX1BSSVZBVEVfS0VZIiwiRXJyb3IiLCJwcml2YXRlS2V5IiwiaW5jbHVkZXMiLCJyZXBsYWNlIiwiY29uc29sZSIsImxvZyIsInNlcnZpY2VBY2NvdW50QXV0aCIsImVtYWlsIiwia2V5Iiwic2NvcGVzIiwiZG9jIiwibG9hZEluZm8iLCJlcnJvciIsImdldE9yQ3JlYXRlU2hlZXQiLCJzaGVldFRpdGxlIiwiaGVhZGVycyIsInNoZWV0Iiwic2hlZXRzQnlUaXRsZSIsImFkZFNoZWV0IiwidGl0bGUiLCJoZWFkZXJWYWx1ZXMiLCJhZGRDb250YWN0U3VibWlzc2lvbiIsImRhdGEiLCJHT09HTEVfU0hFRVRfSUQiLCJzdWNjZXNzIiwiYWRkUm93IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZnVsbE5hbWUiLCJwcm9qZWN0VHlwZSIsInByaW9yaXR5IiwicHJvamVjdFNjb3BlIiwiY2hlY2tFbWFpbEV4aXN0cyIsInJvd3MiLCJnZXRSb3dzIiwic29tZSIsInJvdyIsInJvd0VtYWlsIiwiZ2V0IiwidG9Mb3dlckNhc2UiLCJhZGROZXdzbGV0dGVyU3Vic2NyaXB0aW9uIiwiZW1haWxFeGlzdHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/googleSheetsClient.ts\n");

/***/ }),

/***/ "(rsc)/./lib/rateLimiter.ts":
/*!****************************!*\
  !*** ./lib/rateLimiter.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RateLimiter: () => (/* binding */ RateLimiter)\n/* harmony export */ });\n/**\r\n * Simple in-memory rate limiter for API routes\r\n */ function RateLimiter({ limit, interval, uniqueTokenPerInterval = 500 }) {\n    const tokenCache = new Map();\n    const timestamps = new Map();\n    return {\n        check: (token, identifier)=>{\n            const tokenKey = `${identifier}:${token}`;\n            const now = Date.now();\n            // Clean up expired entries\n            timestamps.forEach((timestamp, key)=>{\n                if (now - timestamp > interval) {\n                    timestamps.delete(key);\n                    tokenCache.delete(key);\n                }\n            });\n            // Check and update rate limit\n            let count = tokenCache.get(tokenKey) || 0;\n            if (!timestamps.has(tokenKey)) {\n                timestamps.set(tokenKey, now);\n                tokenCache.set(tokenKey, 1);\n                return Promise.resolve();\n            }\n            if (count >= limit) {\n                return Promise.reject(new Error(\"Rate limit exceeded\"));\n            }\n            tokenCache.set(tokenKey, count + 1);\n            return Promise.resolve();\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcmF0ZUxpbWl0ZXIudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztDQUVDLEdBQ00sU0FBU0EsWUFBWSxFQUMxQkMsS0FBSyxFQUNMQyxRQUFRLEVBQ1JDLHlCQUF5QixHQUFHLEVBSzdCO0lBQ0MsTUFBTUMsYUFBYSxJQUFJQztJQUN2QixNQUFNQyxhQUFhLElBQUlEO0lBRXZCLE9BQU87UUFDTEUsT0FBTyxDQUFDQyxPQUF3QkM7WUFDOUIsTUFBTUMsV0FBVyxDQUFDLEVBQUVELFdBQVcsQ0FBQyxFQUFFRCxNQUFNLENBQUM7WUFDekMsTUFBTUcsTUFBTUMsS0FBS0QsR0FBRztZQUVwQiwyQkFBMkI7WUFDM0JMLFdBQVdPLE9BQU8sQ0FBQyxDQUFDQyxXQUFXQztnQkFDN0IsSUFBSUosTUFBTUcsWUFBWVosVUFBVTtvQkFDOUJJLFdBQVdVLE1BQU0sQ0FBQ0Q7b0JBQ2xCWCxXQUFXWSxNQUFNLENBQUNEO2dCQUNwQjtZQUNGO1lBRUEsOEJBQThCO1lBQzlCLElBQUlFLFFBQVFiLFdBQVdjLEdBQUcsQ0FBQ1IsYUFBYTtZQUV4QyxJQUFJLENBQUNKLFdBQVdhLEdBQUcsQ0FBQ1QsV0FBVztnQkFDN0JKLFdBQVdjLEdBQUcsQ0FBQ1YsVUFBVUM7Z0JBQ3pCUCxXQUFXZ0IsR0FBRyxDQUFDVixVQUFVO2dCQUN6QixPQUFPVyxRQUFRQyxPQUFPO1lBQ3hCO1lBRUEsSUFBSUwsU0FBU2hCLE9BQU87Z0JBQ2xCLE9BQU9vQixRQUFRRSxNQUFNLENBQUMsSUFBSUMsTUFBTTtZQUNsQztZQUVBcEIsV0FBV2dCLEdBQUcsQ0FBQ1YsVUFBVU8sUUFBUTtZQUNqQyxPQUFPSSxRQUFRQyxPQUFPO1FBQ3hCO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2V2em9uZS10ZWNoLXdlYnNpdGUvLi9saWIvcmF0ZUxpbWl0ZXIudHM/MjkyZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU2ltcGxlIGluLW1lbW9yeSByYXRlIGxpbWl0ZXIgZm9yIEFQSSByb3V0ZXNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBSYXRlTGltaXRlcih7XHJcbiAgbGltaXQsXHJcbiAgaW50ZXJ2YWwsXHJcbiAgdW5pcXVlVG9rZW5QZXJJbnRlcnZhbCA9IDUwMFxyXG59OiB7XHJcbiAgbGltaXQ6IG51bWJlcjtcclxuICBpbnRlcnZhbDogbnVtYmVyO1xyXG4gIHVuaXF1ZVRva2VuUGVySW50ZXJ2YWw/OiBudW1iZXI7XHJcbn0pIHtcclxuICBjb25zdCB0b2tlbkNhY2hlID0gbmV3IE1hcCgpO1xyXG4gIGNvbnN0IHRpbWVzdGFtcHMgPSBuZXcgTWFwKCk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBjaGVjazogKHRva2VuOiBudW1iZXIgfCBzdHJpbmcsIGlkZW50aWZpZXI6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgICBjb25zdCB0b2tlbktleSA9IGAke2lkZW50aWZpZXJ9OiR7dG9rZW59YDtcclxuICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENsZWFuIHVwIGV4cGlyZWQgZW50cmllc1xyXG4gICAgICB0aW1lc3RhbXBzLmZvckVhY2goKHRpbWVzdGFtcCwga2V5KSA9PiB7XHJcbiAgICAgICAgaWYgKG5vdyAtIHRpbWVzdGFtcCA+IGludGVydmFsKSB7XHJcbiAgICAgICAgICB0aW1lc3RhbXBzLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgICAgdG9rZW5DYWNoZS5kZWxldGUoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2hlY2sgYW5kIHVwZGF0ZSByYXRlIGxpbWl0XHJcbiAgICAgIGxldCBjb3VudCA9IHRva2VuQ2FjaGUuZ2V0KHRva2VuS2V5KSB8fCAwO1xyXG4gICAgICBcclxuICAgICAgaWYgKCF0aW1lc3RhbXBzLmhhcyh0b2tlbktleSkpIHtcclxuICAgICAgICB0aW1lc3RhbXBzLnNldCh0b2tlbktleSwgbm93KTtcclxuICAgICAgICB0b2tlbkNhY2hlLnNldCh0b2tlbktleSwgMSk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoY291bnQgPj0gbGltaXQpIHtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdSYXRlIGxpbWl0IGV4Y2VlZGVkJykpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0b2tlbkNhY2hlLnNldCh0b2tlbktleSwgY291bnQgKyAxKTtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuIl0sIm5hbWVzIjpbIlJhdGVMaW1pdGVyIiwibGltaXQiLCJpbnRlcnZhbCIsInVuaXF1ZVRva2VuUGVySW50ZXJ2YWwiLCJ0b2tlbkNhY2hlIiwiTWFwIiwidGltZXN0YW1wcyIsImNoZWNrIiwidG9rZW4iLCJpZGVudGlmaWVyIiwidG9rZW5LZXkiLCJub3ciLCJEYXRlIiwiZm9yRWFjaCIsInRpbWVzdGFtcCIsImtleSIsImRlbGV0ZSIsImNvdW50IiwiZ2V0IiwiaGFzIiwic2V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/rateLimiter.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/googleapis","vendor-chunks/lodash","vendor-chunks/googleapis-common","vendor-chunks/axios","vendor-chunks/node-forge","vendor-chunks/nodemailer","vendor-chunks/google-auth-library","vendor-chunks/uuid","vendor-chunks/asynckit","vendor-chunks/node-fetch","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/qs","vendor-chunks/jws","vendor-chunks/call-bind-apply-helpers","vendor-chunks/gaxios","vendor-chunks/debug","vendor-chunks/json-bigint","vendor-chunks/https-proxy-agent","vendor-chunks/google-logging-utils","vendor-chunks/get-proto","vendor-chunks/yallist","vendor-chunks/object-inspect","vendor-chunks/mime-db","vendor-chunks/has-symbols","vendor-chunks/gopd","vendor-chunks/gcp-metadata","vendor-chunks/function-bind","vendor-chunks/form-data","vendor-chunks/follow-redirects","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/agent-base","vendor-chunks/url-template","vendor-chunks/supports-color","vendor-chunks/side-channel","vendor-chunks/side-channel-weakmap","vendor-chunks/side-channel-map","vendor-chunks/side-channel-list","vendor-chunks/safe-buffer","vendor-chunks/proxy-from-env","vendor-chunks/ms","vendor-chunks/mime-types","vendor-chunks/jwa","vendor-chunks/is-stream","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/has-flag","vendor-chunks/gtoken","vendor-chunks/google-spreadsheet","vendor-chunks/google-p12-pem","vendor-chunks/get-intrinsic","vendor-chunks/fast-text-encoding","vendor-chunks/extend","vendor-chunks/es-set-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/es-define-property","vendor-chunks/dunder-proto","vendor-chunks/delayed-stream","vendor-chunks/combined-stream","vendor-chunks/call-bound","vendor-chunks/buffer-equal-constant-time","vendor-chunks/bignumber.js","vendor-chunks/base64-js","vendor-chunks/arrify"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnewsletter%2Froute&page=%2Fapi%2Fnewsletter%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnewsletter%2Froute.ts&appDir=D%3A%5CJOURNEY%5CInternship%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CJOURNEY%5CInternship&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();